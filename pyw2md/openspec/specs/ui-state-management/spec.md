# UI状态管理

## Purpose

定义pyw2md应用中UI组件状态管理的规范，确保状态更新的一致性、性能和可维护性。

## Requirements

### Requirement 1: UI状态更新机制

系统应提供统一的UI状态更新机制，确保各组件状态同步。

#### Scenario: 状态更新触发
- **WHEN** 文件列表发生变化
- **THEN** 所有相关UI组件应在300ms内完成状态更新

### Requirement 2: 防抖机制

所有UI更新操作应实现防抖机制，避免频繁更新。

#### Scenario: 快速连续操作
- **WHEN** 用户在300ms内连续执行多次操作
- **THEN** 只执行最后一次操作对应的状态更新

### Requirement 3: 统计信息更新

统计信息应通过统一接口更新，避免冗余调用。

#### Scenario: 文件添加后的统计更新
- **WHEN** 新文件被添加到列表
- **THEN** 状态栏应显示最新的文件数量和总大小
- **AND** 不应触发冗余的统计更新调用